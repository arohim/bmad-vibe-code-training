# Story 1.3: Customer & Job Management Pages (สร้างหน้าจัดการลูกค้าและรายการงาน)

## Status
Draft

## Story
**As a** user, **I want** to access pages for viewing customer lists and job lists from the navigation bar, **so that** I can begin managing my core data.

## Acceptance Criteria
1. เมื่อคลิกเมนู "ลูกค้า" จะแสดงหน้า "รายชื่อลูกค้า" พร้อมตารางที่แสดงข้อมูลลูกค้าจำลอง
2. หน้า "รายชื่อลูกค้า" มีปุ่ม "เพิ่มลูกค้าใหม่"
3. เมื่อคลิกเมนู "รายการงาน" จะแสดงหน้า "รายการงาน" พร้อมตารางที่แสดงข้อมูลงานจำลอง
4. หน้า "รายการงาน" มีปุ่ม "สร้างงานใหม่"

## Tasks / Subtasks
- [ ] Task 1: Implement Navigation Functionality (AC: 1, 3)
  - [ ] Add routing capability using React Router DOM or similar
  - [ ] Modify Sidebar.tsx to add click handlers and navigation logic
  - [ ] Test navigation between pages
- [ ] Task 2: Create Customer Management Page (AC: 1, 2)
  - [ ] Create CustomersPage.tsx component in `apps/web/src/pages/`
  - [ ] Implement customer data table using shadcn/ui Table components
  - [ ] Create dummy customer data matching the Customer interface
  - [ ] Add "เพิ่มลูกค้าใหม่" button (non-functional for this story)
  - [ ] Style page with proper layout and Thai language support
- [ ] Task 3: Create Job Management Page (AC: 3, 4)
  - [ ] Create JobsPage.tsx component in `apps/web/src/pages/`
  - [ ] Implement jobs data table using shadcn/ui Table components
  - [ ] Create dummy job data matching the Job interface
  - [ ] Add "สร้างงานใหม่" button (non-functional for this story)
  - [ ] Display customer relationship data in job records
- [ ] Task 4: Page Integration and Routing Setup (AC: 1, 2, 3, 4)
  - [ ] Set up React Router in App.tsx for page navigation
  - [ ] Create route definitions for /customers and /jobs pages
  - [ ] Ensure MainLayout persists across all page navigations
  - [ ] Test full navigation flow from sidebar to pages

## Dev Notes

### Previous Story Insights
[Source: Story 1.2 - Dev Agent Record]
- ✅ MainLayout and Sidebar components are ready for navigation integration
- ✅ Sidebar contains menu items: Dashboard, ลูกค้า, รายการงาน (currently non-clickable)
- ✅ Thai language text rendering confirmed working across components
- ✅ shadcn/ui ecosystem fully configured and ready for table components
- Key lesson: Lucide React icons are available and properly integrated

### Data Models
[Source: architecture/data-models.md]
**Customer Interface (from PRD):**
```ts
export interface Customer {
  id: string;
  created_at: string;
  name: string;
  email: string;
  phone: string;
}
```

**Job Interface (from PRD):**
```ts
export interface Job {
  id: string;
  created_at: string;
  customer_id: string;
  description: string;
  status: 'New' | 'In Progress' | 'Done';
  customers?: Customer;
}
```

**Note:** The existing `packages/shared/types.ts` has a different Customer schema. For this MVP story, use the simpler Customer interface from data-models.md. Future stories may need to reconcile these schemas.

### Tech Stack Requirements
[Source: architecture/tech-stack.md]
- **Frontend Framework**: React ~18.x with TypeScript ~5.x (existing)
- **UI Component Library**: shadcn/ui (latest version) - use Table components
- **State Management**: React Context API (not needed for dummy data in this story)
- **Build Tool**: Vite ~5.x (existing)
- **CSS Framework**: Tailwind CSS ~3.x for styling consistency

### Project Structure Requirements
[Source: architecture/unified-project-structure.md]
Pages should be organized as:
```
apps/web/src/
├── components/
│   ├── layout/ (existing)
│   └── ui/ (shadcn/ui components)
├── pages/
│   ├── CustomersPage.tsx (NEW)
│   └── JobsPage.tsx (NEW)
└── App.tsx (MODIFY for routing)
```

### High Level Architecture Context
[Source: architecture/high-level-architecture.md]
- **Architectural Pattern**: Component-Based UI using React + shadcn/ui
- **Platform**: Serverless Architecture (Vercel + Supabase) - currently in scaffolding phase with dummy data
- Pages should be designed to work within this serverless ecosystem for future backend integration

### Coding Standards
[Source: architecture/coding-standards.md]
- **Data Access**: Will use Supabase Client Library (future stories) - for now, use dummy data arrays
- **Type Sharing**: Use types from `packages/shared/types.ts` where applicable, or define locally for MVP
- **Environment Variables**: Use `import.meta.env.VITE_*` for any configuration needed

### File Locations
Based on project structure, files should be created at:
- Page components: `apps/web/src/pages/` (new directory)
- Type definitions: Use existing interfaces from data models, or define locally in components
- App routing integration: `apps/web/src/App.tsx` (modification)
- Navigation updates: `apps/web/src/components/layout/Sidebar.tsx` (modification)

### Component Specifications
[Source: shadcn/ui ecosystem and React patterns]
- Use shadcn/ui Table components for customer and job listings
- Implement responsive table design for desktop browsers
- Button components should use shadcn/ui Button with proper Thai text support  
- Page layout should be consistent with MainLayout component patterns
- Navigation state can use React's built-in state management for this MVP phase

### Technical Constraints
- Use dummy data arrays for Customer and Job records (no database integration yet)
- Navigation should be implemented but buttons for "เพิ่มลูกค้าใหม่" and "สร้างงานใหม่" are visual only
- Pages must be responsive and work on desktop browsers
- Preserve Thai language support in all text rendering
- Routing should maintain the existing layout structure (sidebar persists)

### Testing
[Source: architecture/tech-stack.md]
- **Framework**: Vitest + React Testing Library available for component testing
- **Requirements for this story**: 
  - Basic page component rendering tests
  - Navigation functionality tests (routing works correctly)
  - Table rendering tests with dummy data
  - Verify Thai text displays correctly in components
- **Test Location**: Tests should be co-located with components or in `__tests__` directories

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-08-30 | 1.0 | Initial story creation | Scrum Master (Bob) |

## Dev Agent Record
*Implementation details will be populated here during development*

### Agent Model Used
*To be filled by dev agent*

### Debug Log References  
*To be filled by dev agent*

### Completion Notes List
*To be filled by dev agent*

### File List
*To be filled by dev agent*

## QA Results
*Results from QA Agent review will be populated here after story completion*